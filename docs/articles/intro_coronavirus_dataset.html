<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the Coronavirus Dataset • coronavirus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the Coronavirus Dataset">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coronavirus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro_coronavirus_dataset.html">Introduction to the Coronavirus Dataset</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RamiKrispin/coronavirus">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="intro_coronavirus_dataset_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="intro_coronavirus_dataset_files/plotly-binding-4.9.1/plotly.js"></script><script src="intro_coronavirus_dataset_files/typedarray-0.1/typedarray.min.js"></script><script src="intro_coronavirus_dataset_files/jquery-1.12.4/jquery.min.js"></script><link href="intro_coronavirus_dataset_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet">
<script src="intro_coronavirus_dataset_files/crosstalk-1.0.0/js/crosstalk.min.js"></script><link href="intro_coronavirus_dataset_files/plotly-htmlwidgets-css-1.49.4/plotly-htmlwidgets.css" rel="stylesheet">
<script src="intro_coronavirus_dataset_files/plotly-main-1.49.4/plotly-latest.min.js"></script><link href="intro_coronavirus_dataset_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="intro_coronavirus_dataset_files/datatables-binding-0.7/datatables.js"></script><link href="intro_coronavirus_dataset_files/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="intro_coronavirus_dataset_files/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="intro_coronavirus_dataset_files/dt-core-1.10.16/js/jquery.dataTables.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to the Coronavirus Dataset</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RamiKrispin/coronavirus/blob/master/vignettes/intro_coronavirus_dataset.Rmd"><code>vignettes/intro_coronavirus_dataset.Rmd</code></a></small>
      <div class="hidden name"><code>intro_coronavirus_dataset.Rmd</code></div>

    </div>

    
    
<div id="the-coronavirus-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#the-coronavirus-dataset" class="anchor"></a>The coronavirus dataset</h3>
<p>The <code>coronavirus</code> dataset provides a snapshot of the daily confirmed, recovered, and death cases of the Coronavirus (the 2019 Novel Coronavirus COVID-19) by geographic location (i.e., country/province). Let’s load the dataset from the <strong>coronavirus</strong> package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(coronavirus)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(coronavirus)</a></code></pre></div>
<p>The dataset has the following fields:</p>
<ul>
<li>
<code>date</code> - The date of the summary</li>
<li>
<code>Province.State</code> - The province or state, when applicable</li>
<li>
<code>Country.Region</code> - The country or region name</li>
<li>
<code>Lat</code> - Latitude point</li>
<li>
<code>Long</code>- Longitude point</li>
<li>
<code>cases</code> number of daily cases (i.e., confirmed, death, and recovered)</li>
</ul>
<p>We can use the <code>head</code> and <code>str</code> functions to see the structure of the dataset:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(coronavirus)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt;   Province.State Country.Region      Lat     Long       date cases      type</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; 1                         Japan 35.67620 139.6503 2020-01-22     2 confirmed</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; 2                   South Korea 37.56650 126.9780 2020-01-22     1 confirmed</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; 3                      Thailand 13.75630 100.5018 2020-01-22     2 confirmed</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; 4          Anhui Mainland China 31.82571 117.2264 2020-01-22     1 confirmed</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; 5        Beijing Mainland China 40.18238 116.4142 2020-01-22    14 confirmed</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; 6      Chongqing Mainland China 30.05718 107.8740 2020-01-22     6 confirmed</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(coronavirus)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; Classes 'tbl_df', 'tbl' and 'data.frame':    1903 obs. of  7 variables:</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;  $ Province.State: chr  "" "" "" "Anhui" ...</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;  $ Country.Region: chr  "Japan" "South Korea" "Thailand" "Mainland China" ...</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;  $ Lat           : num  35.7 37.6 13.8 31.8 40.2 ...</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt;  $ Long          : num  140 127 101 117 116 ...</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt;  $ date          : Date, format: "2020-01-22" "2020-01-22" ...</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;  $ cases         : int  2 1 2 1 14 6 1 26 2 1 ...</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt;  $ type          : chr  "confirmed" "confirmed" "confirmed" "confirmed" ...</span></a></code></pre></div>
</div>
<div id="querying-and-analyzing-the-coronavirus-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#querying-and-analyzing-the-coronavirus-dataset" class="anchor"></a>Querying and analyzing the coronavirus dataset</h3>
<p>We will use the <strong>dplyr</strong> and <strong>tidyr</strong> packages to query, transform, reshape, and keep the data tidy, the <strong>plotly</strong> package to plot the data and the <strong>DT</strong> package to view it:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(plotly)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(DT)</a></code></pre></div>
<div id="cases-summary" class="section level4">
<h4 class="hasAnchor">
<a href="#cases-summary" class="anchor"></a>Cases summary</h4>
<p>Let’s start with summarizing the total number of cases by type as of 2020-02-22 and then plot it:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">total_cases &lt;-<span class="st"> </span>coronavirus <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(type) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">cases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(cases)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">type =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(type, <span class="dt">levels =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"confirmed"</span>, <span class="st">"recovered"</span>, <span class="st">"death"</span>)))</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">total_cases</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; # A tibble: 3 x 2</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;   type      cases</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;   &lt;fct&gt;     &lt;int&gt;</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 1 confirmed 78599</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 2 death      2458</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 3 recovered 22886</span></a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/plotly/topics/plot_ly">plot_ly</a></span>(<span class="dt">data =</span> total_cases, </a>
<a class="sourceLine" id="cb5-2" data-line-number="2">        <span class="dt">x =</span> <span class="op">~</span><span class="st"> </span>type, </a>
<a class="sourceLine" id="cb5-3" data-line-number="3">        <span class="dt">y =</span> <span class="op">~</span>cases, </a>
<a class="sourceLine" id="cb5-4" data-line-number="4">        <span class="dt">type =</span> <span class="st">'bar'</span>,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">        <span class="dt">text =</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(type, cases, <span class="dt">sep =</span> <span class="st">": "</span>),</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">    <span class="dt">hoverinfo =</span> <span class="st">'text'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/plotly/topics/layout">layout</a></span>(<span class="dt">title =</span> <span class="st">"Coronavirus - Cases Distribution"</span>,</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">         <span class="dt">yaxis =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">title =</span> <span class="st">"Number of Cases"</span>),</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">         <span class="dt">xaxis =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">title =</span> <span class="st">"Case Type"</span>),</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">         <span class="dt">hovermode =</span> <span class="st">"compare"</span>)</a></code></pre></div>
<div id="htmlwidget-aff37adde2668a53a8f4" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-aff37adde2668a53a8f4">{"x":{"visdat":{"48564d6c11b9":["function () ","plotlyVisDat"]},"cur_data":"48564d6c11b9","attrs":{"48564d6c11b9":{"x":{},"y":{},"text":{},"hoverinfo":"text","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Coronavirus - Cases Distribution","yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Cases"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Case Type","type":"category","categoryorder":"array","categoryarray":["confirmed","recovered","death"]},"hovermode":"compare","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["confirmed","death","recovered"],"y":[78599,2458,22886],"text":["confirmed: 78599","death: 2458","recovered: 22886"],"hoverinfo":["text","text","text"],"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>We can learn from this table that, so far worldwide, the recovery rate is 29.12% and the death rate is 3.13%.</p>
</div>
<div id="top-effected-countries" class="section level4">
<h4 class="hasAnchor">
<a href="#top-effected-countries" class="anchor"></a>Top effected countries</h4>
<p>The next table provides an overview of the ten countries with the highest confirmed cases. We will use the <code>datatable</code> function from the <strong>DT</strong> package to view the table:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">confirmed_country &lt;-<span class="st"> </span>coronavirus <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(type <span class="op">==</span><span class="st"> "confirmed"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Country.Region) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">total_cases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(cases)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">perc =</span> total_cases <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(total_cases)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="op">-</span>total_cases)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">confirmed_country <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/DT/topics/datatable">datatable</a></span>(<span class="dt">rownames =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">            <span class="dt">colnames =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Country"</span>, <span class="st">"Cases"</span>, <span class="st">"Perc of Total"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/DT/topics/formatCurrency">formatPercentage</a></span>(<span class="st">"perc"</span>, <span class="dv">2</span>)</a></code></pre></div>
<div id="htmlwidget-fad502e59d9a90576484" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fad502e59d9a90576484">{"x":{"filter":"none","data":[["Mainland China","Others","South Korea","Japan","Singapore","Hong Kong","Italy","Thailand","US","Iran"],[76922,634,433,122,85,69,62,35,35,28],[0.978663850685123,0.00806626038499218,0.00550897594116974,0.00155218259774297,0.00108143869514879,0.000877873764297256,0.000788814107049708,0.000445298286237738,0.000445298286237738,0.000356238628990191]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Country<\/th>\n      <th>Cases<\/th>\n      <th>Perc of Total<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nDTWidget.formatPercentage(this, row, data, 2, 2, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><p>As 97.9% of the confirmed cases are in China, to get a better overview of the worldwide dist of the virus, let’s exclude China and plot the rest of the world dist:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">coronavirus <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(type <span class="op">==</span><span class="st"> "confirmed"</span>, </a>
<a class="sourceLine" id="cb7-3" data-line-number="3">         Country.Region <span class="op">!=</span><span class="st"> "Mainland China"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Country.Region) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">total_cases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(cases)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="op">-</span>total_cases) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">country =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(Country.Region, <span class="dt">levels =</span> Country.Region)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/plotly/topics/plot_ly">plot_ly</a></span>(<span class="dt">labels =</span> <span class="op">~</span><span class="st"> </span>country, </a>
<a class="sourceLine" id="cb7-10" data-line-number="10">          <span class="dt">values =</span> <span class="op">~</span><span class="st"> </span>total_cases,</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">          <span class="dt">type =</span> <span class="st">"pie"</span>,</a>
<a class="sourceLine" id="cb7-12" data-line-number="12">          <span class="dt">textposition =</span> <span class="st">'inside'</span>,</a>
<a class="sourceLine" id="cb7-13" data-line-number="13">        <span class="dt">textinfo =</span> <span class="st">'label+percent'</span>,</a>
<a class="sourceLine" id="cb7-14" data-line-number="14">        <span class="dt">insidetextfont =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">color =</span> <span class="st">'#FFFFFF'</span>),</a>
<a class="sourceLine" id="cb7-15" data-line-number="15">        <span class="dt">hoverinfo =</span> <span class="st">'text'</span>,</a>
<a class="sourceLine" id="cb7-16" data-line-number="16">        <span class="dt">text =</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(country, <span class="st">"&lt;br /&gt;"</span>,</a>
<a class="sourceLine" id="cb7-17" data-line-number="17">                     <span class="st">"Number of confirmed cases: "</span>, total_cases, <span class="dt">sep =</span> <span class="st">""</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/plotly/topics/layout">layout</a></span>(<span class="dt">title =</span> <span class="st">"Coronavirus - Confirmed Cases (Excluding China)"</span>)</a></code></pre></div>
<div id="htmlwidget-be8d4ff2c9660847f9a4" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-be8d4ff2c9660847f9a4">{"x":{"visdat":{"4856242782a":["function () ","plotlyVisDat"]},"cur_data":"4856242782a","attrs":{"4856242782a":{"labels":{},"values":{},"textposition":"inside","textinfo":"label+percent","insidetextfont":{"color":"#FFFFFF"},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Coronavirus - Confirmed Cases (Excluding China)","hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["Others","South Korea","Japan","Singapore","Hong Kong","Italy","Thailand","US","Iran","Taiwan","Australia","Malaysia","Germany","Vietnam","United Arab Emirates","France","Macau","Canada","UK","India","Philippines","Russia","Spain","Belgium","Cambodia","Egypt","Finland","Israel","Lebanon","Nepal","Sri Lanka","Sweden"],"values":[634,433,122,85,69,62,35,35,28,26,22,22,16,16,13,12,10,9,9,3,3,2,2,1,1,1,1,1,1,1,1,1],"textposition":["inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside"],"textinfo":"label+percent","insidetextfont":{"color":"#FFFFFF"},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Others<br />Number of confirmed cases: 634","South Korea<br />Number of confirmed cases: 433","Japan<br />Number of confirmed cases: 122","Singapore<br />Number of confirmed cases: 85","Hong Kong<br />Number of confirmed cases: 69","Italy<br />Number of confirmed cases: 62","Thailand<br />Number of confirmed cases: 35","US<br />Number of confirmed cases: 35","Iran<br />Number of confirmed cases: 28","Taiwan<br />Number of confirmed cases: 26","Australia<br />Number of confirmed cases: 22","Malaysia<br />Number of confirmed cases: 22","Germany<br />Number of confirmed cases: 16","Vietnam<br />Number of confirmed cases: 16","United Arab Emirates<br />Number of confirmed cases: 13","France<br />Number of confirmed cases: 12","Macau<br />Number of confirmed cases: 10","Canada<br />Number of confirmed cases: 9","UK<br />Number of confirmed cases: 9","India<br />Number of confirmed cases: 3","Philippines<br />Number of confirmed cases: 3","Russia<br />Number of confirmed cases: 2","Spain<br />Number of confirmed cases: 2","Belgium<br />Number of confirmed cases: 1","Cambodia<br />Number of confirmed cases: 1","Egypt<br />Number of confirmed cases: 1","Finland<br />Number of confirmed cases: 1","Israel<br />Number of confirmed cases: 1","Lebanon<br />Number of confirmed cases: 1","Nepal<br />Number of confirmed cases: 1","Sri Lanka<br />Number of confirmed cases: 1","Sweden<br />Number of confirmed cases: 1"],"type":"pie","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="recovery-and-death-rates" class="section level4">
<h4 class="hasAnchor">
<a href="#recovery-and-death-rates" class="anchor"></a>Recovery and death rates</h4>
<p>Similarly, we can use the <code>pivot_wider</code> function from the <strong>tidyr</strong> package (in addition to the <strong>dplyr</strong> functions we used above) to get an overview of the three types of cases (confirmed, recovered, and death). We then will use it to derive the recovery and death rate by country. As for most of the countries, there is not enough information about the results of the confirmed cases, we will filter the data for countries with at least 25 confirmed cases and above:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">coronavirus <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Country.Region <span class="op">!=</span><span class="st"> "Others"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Country.Region, type) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">total_cases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(cases)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> total_cases) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="op">-</span><span class="st"> </span>confirmed) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(confirmed <span class="op">&gt;=</span><span class="st"> </span><span class="dv">25</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">recover_rate =</span> recovered <span class="op">/</span><span class="st"> </span>confirmed,</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">         <span class="dt">death_rate =</span> death <span class="op">/</span><span class="st"> </span>confirmed)  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/DT/topics/datatable">datatable</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="st">   </span><span class="kw"><a href="https://www.rdocumentation.org/packages/DT/topics/formatCurrency">formatPercentage</a></span>(<span class="st">"recover_rate"</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="st">   </span><span class="kw"><a href="https://www.rdocumentation.org/packages/DT/topics/formatCurrency">formatPercentage</a></span>(<span class="st">"death_rate"</span>, <span class="dv">2</span>) </a></code></pre></div>
<div id="htmlwidget-29cce9e0eea8653fd075" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-29cce9e0eea8653fd075">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],["Mainland China","South Korea","Japan","Singapore","Hong Kong","Italy","Thailand","US","Iran","Taiwan"],[76922,433,122,85,69,62,35,35,28,26],[22687,16,22,37,6,1,17,5,null,2],[2441,2,1,null,2,2,null,null,5,1],[0.294935129091807,0.0369515011547344,0.180327868852459,0.435294117647059,0.0869565217391304,0.0161290322580645,0.485714285714286,0.142857142857143,null,0.0769230769230769],[0.0317334442682198,0.0046189376443418,0.00819672131147541,null,0.0289855072463768,0.032258064516129,null,null,0.178571428571429,0.0384615384615385]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country.Region<\/th>\n      <th>confirmed<\/th>\n      <th>recovered<\/th>\n      <th>death<\/th>\n      <th>recover_rate<\/th>\n      <th>death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nDTWidget.formatPercentage(this, row, data, 5, 2, 3, ',', '.');\nDTWidget.formatPercentage(this, row, data, 6, 2, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><p>Based on the results, it seems that the recovery rate on Thailand, Singapore, and South Korea are close to 40%, China and Japan are around 20%, and Hong Kong is far behind with 8%. Yet, it is important to cavitate that it is hard to conclude the recovery rate based on the country as:</p>
<ul>
<li>There is missing information about the patients, such as their age, or stage of the virus, that could affect the outcome.</li>
<li>There is no information about the recovery time of each case</li>
<li>China here is an outlier due to the scale of the virus spread</li>
</ul>
</div>
<div id="diving-into-china" class="section level4">
<h4 class="hasAnchor">
<a href="#diving-into-china" class="anchor"></a>Diving into China</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">coronavirus <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Country.Region <span class="op">==</span><span class="st"> "Mainland China"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Province.State, type) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">total_cases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(cases)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> total_cases) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="op">-</span><span class="st"> </span>confirmed) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">recover_rate =</span> recovered <span class="op">/</span><span class="st"> </span>confirmed,</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">         <span class="dt">death_rate =</span> death <span class="op">/</span><span class="st"> </span>confirmed) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="st">  </span>plotly<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/plotly/topics/plot_ly">plot_ly</a></span>(<span class="dt">labels =</span> <span class="op">~</span><span class="st"> </span>Province.State, </a>
<a class="sourceLine" id="cb9-10" data-line-number="10">                  <span class="dt">values =</span> <span class="op">~</span>confirmed, </a>
<a class="sourceLine" id="cb9-11" data-line-number="11">                  <span class="dt">type =</span> <span class="st">'pie'</span>,</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">                  <span class="dt">textposition =</span> <span class="st">'inside'</span>,</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">        <span class="dt">textinfo =</span> <span class="st">'label+percent'</span>,</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">        <span class="dt">insidetextfont =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">color =</span> <span class="st">'#FFFFFF'</span>),</a>
<a class="sourceLine" id="cb9-15" data-line-number="15">        <span class="dt">hoverinfo =</span> <span class="st">'text'</span>,</a>
<a class="sourceLine" id="cb9-16" data-line-number="16">        <span class="dt">text =</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(Province.State, <span class="st">"&lt;br /&gt;"</span>,</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">                     <span class="st">"Number of confirmed cases: "</span>, confirmed, <span class="dt">sep =</span> <span class="st">""</span>))</a></code></pre></div>
<div id="htmlwidget-77be13e4839bab222a82" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-77be13e4839bab222a82">{"x":{"visdat":{"48563acf2bce":["function () ","plotlyVisDat"]},"cur_data":"48563acf2bce","attrs":{"48563acf2bce":{"labels":{},"values":{},"textposition":"inside","textinfo":"label+percent","insidetextfont":{"color":"#FFFFFF"},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["Hubei","Guangdong","Henan","Zhejiang","Hunan","Anhui","Jiangxi","Shandong","Jiangsu","Chongqing","Sichuan","Heilongjiang","Beijing","Shanghai","Hebei","Fujian","Guangxi","Shaanxi","Yunnan","Hainan","Guizhou","Tianjin","Shanxi","Liaoning","Gansu","Jilin","Xinjiang","Inner Mongolia","Ningxia","Qinghai","Tibet"],"values":[64084,1339,1270,1205,1013,989,934,750,631,573,526,479,399,335,309,293,249,245,174,168,146,135,132,121,91,91,76,75,71,18,1],"textposition":["inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside","inside"],"textinfo":"label+percent","insidetextfont":{"color":"#FFFFFF"},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Hubei<br />Number of confirmed cases: 64084","Guangdong<br />Number of confirmed cases: 1339","Henan<br />Number of confirmed cases: 1270","Zhejiang<br />Number of confirmed cases: 1205","Hunan<br />Number of confirmed cases: 1013","Anhui<br />Number of confirmed cases: 989","Jiangxi<br />Number of confirmed cases: 934","Shandong<br />Number of confirmed cases: 750","Jiangsu<br />Number of confirmed cases: 631","Chongqing<br />Number of confirmed cases: 573","Sichuan<br />Number of confirmed cases: 526","Heilongjiang<br />Number of confirmed cases: 479","Beijing<br />Number of confirmed cases: 399","Shanghai<br />Number of confirmed cases: 335","Hebei<br />Number of confirmed cases: 309","Fujian<br />Number of confirmed cases: 293","Guangxi<br />Number of confirmed cases: 249","Shaanxi<br />Number of confirmed cases: 245","Yunnan<br />Number of confirmed cases: 174","Hainan<br />Number of confirmed cases: 168","Guizhou<br />Number of confirmed cases: 146","Tianjin<br />Number of confirmed cases: 135","Shanxi<br />Number of confirmed cases: 132","Liaoning<br />Number of confirmed cases: 121","Gansu<br />Number of confirmed cases: 91","Jilin<br />Number of confirmed cases: 91","Xinjiang<br />Number of confirmed cases: 76","Inner Mongolia<br />Number of confirmed cases: 75","Ningxia<br />Number of confirmed cases: 71","Qinghai<br />Number of confirmed cases: 18","Tibet<br />Number of confirmed cases: 1"],"type":"pie","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Rami Krispin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
